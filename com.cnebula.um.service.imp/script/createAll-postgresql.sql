CREATE TABLE UM_Org_IPRange (Org_ID VARCHAR(255) NOT NULL, IPRange_ID VARCHAR(255) NOT NULL, PRIMARY KEY (Org_ID, IPRange_ID))
CREATE TABLE PERM_Operation (id VARCHAR(255) NOT NULL, VERSION INTEGER, NAMESPACE VARCHAR(255), NAME VARCHAR(255) UNIQUE, CREATETIME TIMESTAMP, LASTMODIFYTIME TIMESTAMP, CREATOR VARCHAR(255), LASTMODIFIER VARCHAR(255), DESCRIPTION VARCHAR(255), LIFECYCLESTATUS SMALLINT, PRIMARY KEY (id))
CREATE TABLE UM_Card (id VARCHAR(255) NOT NULL, CODE VARCHAR(150) UNIQUE NOT NULL, CASH DECIMAL(10,2), TYPE INTEGER, STATUS INTEGER, VALIDDATE DATE, VERSION INTEGER, INVALIDDATE DATE, CREATETIME TIMESTAMP, LASTMODIFYTIME TIMESTAMP, CREATOR VARCHAR(255), LASTMODIFIER VARCHAR(255), DESCRIPTION VARCHAR(255), LIFECYCLESTATUS SMALLINT, PRINCIPLE_id VARCHAR(255), PRIMARY KEY (id))
CREATE TABLE UM_Organization (id VARCHAR(255) NOT NULL, EXTATTRIBUTEDATA BYTEA, NAME VARCHAR(200) NOT NULL, CODETYPE VARCHAR(100), TYPE VARCHAR(100) NOT NULL, PROVINCE VARCHAR(50), CODE VARCHAR(100), CITY VARCHAR(50), SHORTNAME VARCHAR(255), HOMEPAGE VARCHAR(255), OTHERPROPERTITY2 VARCHAR(255), VERSION INTEGER, OTHERPROPERTITY1 VARCHAR(255), OTHERPROPERTITY3 VARCHAR(255), PARENT_id VARCHAR(255), authCenter_id VARCHAR(255), CREATETIME TIMESTAMP, LASTMODIFYTIME TIMESTAMP, CREATOR VARCHAR(255), LASTMODIFIER VARCHAR(255), DESCRIPTION VARCHAR(255), LIFECYCLESTATUS SMALLINT, PRIMARY KEY (id))
CREATE TABLE SPEC_SpecDataItem (id VARCHAR(255) NOT NULL, SHOWORDER INTEGER, DEFAULTLANGUAGE VARCHAR(255), VERSION INTEGER, KEY VARCHAR(255) UNIQUE, ROOT_id VARCHAR(255), PARENT_id VARCHAR(255), CREATETIME TIMESTAMP, LASTMODIFYTIME TIMESTAMP, CREATOR VARCHAR(255), LASTMODIFIER VARCHAR(255), DESCRIPTION VARCHAR(255), LIFECYCLESTATUS SMALLINT, PRIMARY KEY (id))
CREATE TABLE UM_Role_UserRule (Role_ID VARCHAR(255) NOT NULL, Rule_ID VARCHAR(255) NOT NULL, PRIMARY KEY (Role_ID, Rule_ID))
CREATE TABLE PERM_DelegateAuth (id VARCHAR(255) NOT NULL, NAME VARCHAR(255), HTTPMETHOD VARCHAR(255), ACTION VARCHAR(255), BASEURL VARCHAR(255), ENCODE VARCHAR(255), REQUESTSTRING VARCHAR(255), VERSION INTEGER, PREPARECODE VARCHAR(255), CREATETIME TIMESTAMP, LASTMODIFYTIME TIMESTAMP, CREATOR VARCHAR(255), LASTMODIFIER VARCHAR(255), DESCRIPTION VARCHAR(255), LIFECYCLESTATUS SMALLINT, PRIMARY KEY (id))
CREATE TABLE UM_Role_PermissionRule (Role_ID VARCHAR(255) NOT NULL, Rule_ID VARCHAR(255) NOT NULL, PRIMARY KEY (Role_ID, Rule_ID))
CREATE TABLE UM_LOGITEM (ID VARCHAR(255) NOT NULL, CDAY INTEGER, SUBJECTTYPE VARCHAR(255), STATUS INTEGER, SUBJECTID VARCHAR(255), CYEAR INTEGER, OBJECTTYPE VARCHAR(255), CWEEK INTEGER, OBJECTID VARCHAR(255), REMOTEIP VARCHAR(255), OPERATION VARCHAR(255), SESSIONID VARCHAR(255), CMONTH INTEGER, CREATEDATE TIMESTAMP, PRIMARY KEY (ID))
CREATE TABLE UM_IPSegment (id VARCHAR(255) NOT NULL, IPStart BIGINT NOT NULL, IPEnd BIGINT NOT NULL, IPRANGE_id VARCHAR(255), PRIMARY KEY (id))
CREATE TABLE SPEC_SpecBaseInfo (id VARCHAR(255) NOT NULL, VERSION INTEGER, EDITTYPE INTEGER, NAME VARCHAR(255) UNIQUE, CREATETIME TIMESTAMP, LASTMODIFYTIME TIMESTAMP, CREATOR VARCHAR(255), LASTMODIFIER VARCHAR(255), DESCRIPTION VARCHAR(255), LIFECYCLESTATUS SMALLINT, DATATYPE_id VARCHAR(255), PRIMARY KEY (id))
CREATE TABLE UM_UserRule (id VARCHAR(255) NOT NULL, ENABLED BOOLEAN NOT NULL, OPERATIONS VARCHAR(255), EXPRESSION VARCHAR(1024), VERSION INTEGER, NAME VARCHAR(150) NOT NULL, TYPE INTEGER NOT NULL, AUTHABLE BOOLEAN, ENTITYLIMITTYPE VARCHAR(255), CREATETIME TIMESTAMP, LASTMODIFYTIME TIMESTAMP, CREATOR VARCHAR(255), LASTMODIFIER VARCHAR(255), DESCRIPTION VARCHAR(255), LIFECYCLESTATUS SMALLINT, PRIMARY KEY (id))
CREATE TABLE UM_Contactor (id VARCHAR(255) NOT NULL, PHONE VARCHAR(100), NAME VARCHAR(100) NOT NULL, MSGTYPE VARCHAR(50), VERSION INTEGER, MSGCODE VARCHAR(100), SEX VARCHAR(50) NOT NULL, POSTALCODE VARCHAR(30), FAX VARCHAR(50), DEPARTMENT VARCHAR(150), EMAIL VARCHAR(200), OFFICEADDR VARCHAR(200), POSITION VARCHAR(100), MAILADDR VARCHAR(200), CREATETIME TIMESTAMP, LASTMODIFYTIME TIMESTAMP, CREATOR VARCHAR(255), LASTMODIFIER VARCHAR(255), DESCRIPTION VARCHAR(255), LIFECYCLESTATUS SMALLINT, PRIMARY KEY (id))
CREATE TABLE PERM_ResourceType_Operation (Res_ID VARCHAR(255) NOT NULL, Ope_ID VARCHAR(255) NOT NULL, PRIMARY KEY (Res_ID, Ope_ID))
CREATE TABLE SPEC_I18nValue (id VARCHAR(255) NOT NULL, LANG VARCHAR(255), VALUE BYTEA, SPECDATAITEM_id VARCHAR(255), PRIMARY KEY (id))
CREATE TABLE UM_GeneralResource (id VARCHAR(255) NOT NULL, DTYPE VARCHAR(31), OTHERPROPERTITY2 VARCHAR(255), NAME VARCHAR(255), OTHERPROPERTITY3 VARCHAR(255), VERSION INTEGER, EXTATTRIBUTEDATA BYTEA, OTHERPROPERTITY1 VARCHAR(255), PARENT_id VARCHAR(255), CREATETIME TIMESTAMP, LASTMODIFYTIME TIMESTAMP, CREATOR VARCHAR(255), LASTMODIFIER VARCHAR(255), DESCRIPTION VARCHAR(255), LIFECYCLESTATUS SMALLINT, TYPE_id VARCHAR(255), URL VARCHAR(300), VENDER VARCHAR(255), SYSTYPE VARCHAR(255), AUTHID VARCHAR(255), SHORTNAME VARCHAR(255), ISCENTER BOOLEAN NOT NULL, AUTHCENTER_id VARCHAR(255), PRIMARY KEY (id))
CREATE TABLE UM_Role (id VARCHAR(255) NOT NULL, DTYPE VARCHAR(31), ENABLED BOOLEAN, TYPE INTEGER, VERSION INTEGER, NAME VARCHAR(255), CREATETIME TIMESTAMP, LASTMODIFYTIME TIMESTAMP, CREATOR VARCHAR(255), LASTMODIFIER VARCHAR(255), DESCRIPTION VARCHAR(255), LIFECYCLESTATUS SMALLINT, UMROLEOWNER_id VARCHAR(255), UMROLEPARENT_id VARCHAR(255), APPLICATION_id VARCHAR(255), PRIMARY KEY (id))
CREATE TABLE PERM_OPERATIONFIELDCONTRAINT (ID VARCHAR(255) NOT NULL, FROMTYPE INTEGER, FROMVALUE VARCHAR(255), TOTYPE INTEGER, TOVALUE VARCHAR(255), FIELDNAME VARCHAR(255), OPERATION_id VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE SEQ_ENTITYIDGENERATOR (ENTITYNAME VARCHAR(255) NOT NULL, VERSION INTEGER, ENTITYPREFIX VARCHAR(255) UNIQUE, DIRTY BOOLEAN, SYSTEMPREFIX VARCHAR(255), SEQUENCE BIGINT, LASTUPDATE TIMESTAMP, PRIMARY KEY (ENTITYNAME))
CREATE TABLE UM_IPRange (id VARCHAR(255) NOT NULL, VERSION INTEGER, NAME VARCHAR(200) NOT NULL, CREATETIME TIMESTAMP, LASTMODIFYTIME TIMESTAMP, CREATOR VARCHAR(255), LASTMODIFIER VARCHAR(255), DESCRIPTION VARCHAR(255), LIFECYCLESTATUS SMALLINT, PRIMARY KEY (id))
CREATE TABLE UM_AuthCenter (id VARCHAR(255) NOT NULL, VERSION INTEGER, NAME VARCHAR(100) UNIQUE NOT NULL, ISCURRENT BOOLEAN NOT NULL, ROOTURL VARCHAR(255), VERSIONTYPE VARCHAR(100) NOT NULL, CREATETIME TIMESTAMP, LASTMODIFYTIME TIMESTAMP, CREATOR VARCHAR(255), LASTMODIFIER VARCHAR(255), DESCRIPTION VARCHAR(255), LIFECYCLESTATUS SMALLINT, PRIMARY KEY (id))
CREATE TABLE UM_Org_Contactor (Organization_id VARCHAR(255) NOT NULL, contactors_id VARCHAR(255) NOT NULL, PRIMARY KEY (Organization_id, contactors_id))
CREATE TABLE UM_PermissionRule (id VARCHAR(255) NOT NULL, ENABLED BOOLEAN NOT NULL, OPERATIONS VARCHAR(255), EXPRESSION VARCHAR(1024), VERSION INTEGER, NAME VARCHAR(150) NOT NULL, TYPE INTEGER NOT NULL, AUTHABLE BOOLEAN, ENTITYLIMITTYPE VARCHAR(255), CREATETIME TIMESTAMP, LASTMODIFYTIME TIMESTAMP, CREATOR VARCHAR(255), LASTMODIFIER VARCHAR(255), DESCRIPTION VARCHAR(255), LIFECYCLESTATUS SMALLINT, PRIMARY KEY (id))
CREATE TABLE PERM_ResouceType (id VARCHAR(255) NOT NULL, NAMESPACE VARCHAR(255), NAME VARCHAR(255), ENTITYTYPE VARCHAR(255), VERSION INTEGER, CREATETIME TIMESTAMP, LASTMODIFYTIME TIMESTAMP, CREATOR VARCHAR(255), LASTMODIFIER VARCHAR(255), DESCRIPTION VARCHAR(255), LIFECYCLESTATUS SMALLINT, PRIMARY KEY (id))
CREATE TABLE SPEC_DataType (id VARCHAR(255) NOT NULL, VERSION INTEGER, NAME VARCHAR(255), SCHEMA BYTEA, CREATETIME TIMESTAMP, LASTMODIFYTIME TIMESTAMP, CREATOR VARCHAR(255), LASTMODIFIER VARCHAR(255), DESCRIPTION VARCHAR(255), LIFECYCLESTATUS SMALLINT, PRIMARY KEY (id))
CREATE TABLE UM_App_Contactor (Application_id VARCHAR(255) NOT NULL, contactors_id VARCHAR(255) NOT NULL, PRIMARY KEY (Application_id, contactors_id))
CREATE TABLE UM_Personality (id VARCHAR(255) NOT NULL, LOCALE BYTEA, NUMPERPAGE INTEGER, PRIMARY KEY (id))
CREATE TABLE UM_Principle (id VARCHAR(255) NOT NULL, MSGTYPE VARCHAR(50), MSGCODE VARCHAR(100), FAX VARCHAR(50), POSITION VARCHAR(100), OFFICEADDR VARCHAR(200), PASSWORD VARCHAR(100) NOT NULL, MAILADDR VARCHAR(200), OTHERPROPERTITY1 VARCHAR(255), POSTALCODE VARCHAR(30), OTHERPROPERTITY3 VARCHAR(255), BIRTHDAY DATE, VALIDDATE DATE, CHECKORGIP BOOLEAN, SEX VARCHAR(50) NOT NULL, LOGINID VARCHAR(255) UNIQUE, PHONE VARCHAR(100), USERTYPE INTEGER, VERSION INTEGER, EDUCATION VARCHAR(255), NAME VARCHAR(100) NOT NULL, PHOTO BYTEA, STATUS INTEGER, INVALIDDATE DATE, OTHERPROPERTITY2 VARCHAR(255), EXTATTRIBUTEDATA BYTEA, INSTITUTE VARCHAR(255), EMAIL VARCHAR(200), HOMEADDRESS VARCHAR(255), CREATETIME TIMESTAMP, LASTMODIFYTIME TIMESTAMP, CREATOR VARCHAR(255), LASTMODIFIER VARCHAR(255), DESCRIPTION VARCHAR(255), LIFECYCLESTATUS SMALLINT, ORGANIZATION_id VARCHAR(255), PERSONALITY_id VARCHAR(255), PRIMARY KEY (id))
CREATE TABLE UM_ADDITIONALID (ID VARCHAR(255) NOT NULL, STATUS INTEGER, PASSWORD VARCHAR(100) NOT NULL, TYPE VARCHAR(255) NOT NULL, CODE VARCHAR(255), OWNER_id VARCHAR(255), PRIMARY KEY (ID))
ALTER TABLE UM_Org_IPRange ADD CONSTRAINT FK_UM_Org_IPRange_IPRange_ID FOREIGN KEY (IPRange_ID) REFERENCES UM_IPRange (id)
ALTER TABLE UM_Org_IPRange ADD CONSTRAINT FK_UM_Org_IPRange_Org_ID FOREIGN KEY (Org_ID) REFERENCES UM_Organization (id)
ALTER TABLE UM_Card ADD CONSTRAINT FK_UM_Card_PRINCIPLE_id FOREIGN KEY (PRINCIPLE_id) REFERENCES UM_Principle (id)
ALTER TABLE UM_Organization ADD CONSTRAINT FK_UM_Organization_authCenter_id FOREIGN KEY (authCenter_id) REFERENCES UM_AuthCenter (id)
ALTER TABLE UM_Organization ADD CONSTRAINT FK_UM_Organization_PARENT_id FOREIGN KEY (PARENT_id) REFERENCES UM_Organization (id)
ALTER TABLE SPEC_SpecDataItem ADD CONSTRAINT FK_SPEC_SpecDataItem_PARENT_id FOREIGN KEY (PARENT_id) REFERENCES SPEC_SpecDataItem (id)
ALTER TABLE SPEC_SpecDataItem ADD CONSTRAINT FK_SPEC_SpecDataItem_ROOT_id FOREIGN KEY (ROOT_id) REFERENCES SPEC_SpecBaseInfo (id)
ALTER TABLE UM_Role_UserRule ADD CONSTRAINT FK_UM_Role_UserRule_Role_ID FOREIGN KEY (Role_ID) REFERENCES UM_Role (id)
ALTER TABLE UM_Role_UserRule ADD CONSTRAINT FK_UM_Role_UserRule_Rule_ID FOREIGN KEY (Rule_ID) REFERENCES UM_UserRule (id)
ALTER TABLE UM_Role_PermissionRule ADD CONSTRAINT FK_UM_Role_PermissionRule_Rule_ID FOREIGN KEY (Rule_ID) REFERENCES UM_PermissionRule (id)
ALTER TABLE UM_Role_PermissionRule ADD CONSTRAINT FK_UM_Role_PermissionRule_Role_ID FOREIGN KEY (Role_ID) REFERENCES UM_Role (id)
ALTER TABLE UM_IPSegment ADD CONSTRAINT FK_UM_IPSegment_IPRANGE_id FOREIGN KEY (IPRANGE_id) REFERENCES UM_IPRange (id)
ALTER TABLE SPEC_SpecBaseInfo ADD CONSTRAINT FK_SPEC_SpecBaseInfo_DATATYPE_id FOREIGN KEY (DATATYPE_id) REFERENCES SPEC_DataType (id)
ALTER TABLE PERM_ResourceType_Operation ADD CONSTRAINT FK_PERM_ResourceType_Operation_Res_ID FOREIGN KEY (Res_ID) REFERENCES PERM_ResouceType (id)
ALTER TABLE PERM_ResourceType_Operation ADD CONSTRAINT FK_PERM_ResourceType_Operation_Ope_ID FOREIGN KEY (Ope_ID) REFERENCES PERM_Operation (id)
ALTER TABLE SPEC_I18nValue ADD CONSTRAINT FK_SPEC_I18nValue_SPECDATAITEM_id FOREIGN KEY (SPECDATAITEM_id) REFERENCES SPEC_SpecDataItem (id)
ALTER TABLE UM_GeneralResource ADD CONSTRAINT FK_UM_GeneralResource_AUTHCENTER_id FOREIGN KEY (AUTHCENTER_id) REFERENCES UM_AuthCenter (id)
ALTER TABLE UM_GeneralResource ADD CONSTRAINT FK_UM_GeneralResource_TYPE_id FOREIGN KEY (TYPE_id) REFERENCES PERM_ResouceType (id)
ALTER TABLE UM_GeneralResource ADD CONSTRAINT FK_UM_GeneralResource_PARENT_id FOREIGN KEY (PARENT_id) REFERENCES UM_GeneralResource (id)
ALTER TABLE UM_Role ADD CONSTRAINT FK_UM_Role_UMROLEPARENT_id FOREIGN KEY (UMROLEPARENT_id) REFERENCES UM_Role (id)
ALTER TABLE UM_Role ADD CONSTRAINT FK_UM_Role_UMROLEOWNER_id FOREIGN KEY (UMROLEOWNER_id) REFERENCES UM_Principle (id)
ALTER TABLE UM_Role ADD CONSTRAINT FK_UM_Role_APPLICATION_id FOREIGN KEY (APPLICATION_id) REFERENCES UM_GeneralResource (id)
ALTER TABLE PERM_OPERATIONFIELDCONTRAINT ADD CONSTRAINT FK_PERM_OPERATIONFIELDCONTRAINT_OPERATION_id FOREIGN KEY (OPERATION_id) REFERENCES PERM_Operation (id)
ALTER TABLE UM_Org_Contactor ADD CONSTRAINT FK_UM_Org_Contactor_Organization_id FOREIGN KEY (Organization_id) REFERENCES UM_Organization (id)
ALTER TABLE UM_Org_Contactor ADD CONSTRAINT FK_UM_Org_Contactor_contactors_id FOREIGN KEY (contactors_id) REFERENCES UM_Contactor (id)
ALTER TABLE UM_App_Contactor ADD CONSTRAINT FK_UM_App_Contactor_contactors_id FOREIGN KEY (contactors_id) REFERENCES UM_Contactor (id)
ALTER TABLE UM_App_Contactor ADD CONSTRAINT FK_UM_App_Contactor_Application_id FOREIGN KEY (Application_id) REFERENCES UM_GeneralResource (id)
ALTER TABLE UM_Principle ADD CONSTRAINT FK_UM_Principle_PERSONALITY_id FOREIGN KEY (PERSONALITY_id) REFERENCES UM_Personality (id)
ALTER TABLE UM_Principle ADD CONSTRAINT FK_UM_Principle_ORGANIZATION_id FOREIGN KEY (ORGANIZATION_id) REFERENCES UM_Organization (id)
ALTER TABLE UM_ADDITIONALID ADD CONSTRAINT FK_UM_ADDITIONALID_OWNER_id FOREIGN KEY (OWNER_id) REFERENCES UM_Principle (id)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 1)
